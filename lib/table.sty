\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{lib/table}[2019 LMDB lib]

\newcounter{globalTableCounter}
\setcounter{globalTableCounter}{0}
\newcommand{\printTableWithCaption}[2]{
    \begin{tableCaption}[H]
        \caption{#2}
    \end{tableCaption}
    #1
\stepcounter{globalTableCounter}}

% 1 name, 2 value
\newcommand{\initTable}[1]{
    \initSet{#1}
}

\newcommand\addTableVariable[2]{%
    \addVariableToSet{#1}{#2}
}

\newcommand\getTableVariable[2]{%
    \getVariableFromSet{#1}{#2}
}

% inc => \the\numexpr\value{#1}+1\relax
\newcommand\flushTableValues[2]{%
    \setcounter{accumulator}{0}%
    \whileboolexpr{
        test{\ifnumcomp{\value{accumulator}}{<}{#1}}
    }{%
        \getTableVariable{#2}{\theaccumulator}\stepcounter{accumulator}%
    }%
}


\newcounter{styleTableCounter}
\newcommand\tableStyleFormat[2]{%
    \setcounter{styleTableCounter}{#2}
    \setcounter{accumulator}{0}%
    \whileboolexpr{
        test{\ifnumcomp{\value{accumulator}}{<=}{\value{styleTableCounter}}}
    }{%
        \stepcounter{accumulator}%
        #1
    }%
}

\newcommand\printSimpleTable[2]{
    \centering
    \begin{tabular}{#2}
        \hline
        \flushTableValues{\value{#1}}{#1}
    \end{tabular}
}

\newcommand\printCustomTable[2]{
    \begin{tabular}{#1}
        #2
    \end{tabular}%
}

